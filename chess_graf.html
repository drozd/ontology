<!DOCTYPE html>
<meta charset="utf-8">
<style>
body {
  font: 10px sans-serif;
}
h1{
   fill:grey;
   font-size:18px;
}
svg text{
  fill:grey;
  font-size:11px;
}
svg .values text{
  pointer-events:none;
  stroke-width: 0.5px;
}
.groups:hover{
  cursor:pointer;
  font-weight:bold;
}
</style>
<body>

<h1 align="center">Итоги Первой Шахматной олимпиады 1927</h1>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="http://vizjs.org/viz.v1.1.0.min.js"></script>
<script>

var data = [['Австрия','Аргентина',2.5]
,['Австрия','Бельгия',1.5]
,['Австрия','Великобритания',2.5]
,['Австрия','Венгрия',1]
,['Австрия','Германия',2]
,['Австрия','Дания',2.5]
,['Австрия','Испания',3]
,['Австрия','Италия',1.5]
,['Австрия','Нидерланды',1.5]
,['Австрия','Финляндия',3.5]
,['Австрия','Франция',3]
,['Австрия','Чехословакия',2.5]
,['Австрия','Швейцария',1.5]
,['Австрия','Швеция',2.5]
,['Австрия','Югославия',3]
,['Аргентина','Австрия',1.5]
,['Аргентина','Бельгия',3]
,['Аргентина','Великобритания',1.5]
,['Аргентина','Венгрия',0.5]
,['Аргентина','Германия',1.5]
,['Аргентина','Дания',1]
,['Аргентина','Испания',3.5]
,['Аргентина','Италия',1.5]
,['Аргентина','Нидерланды',2]
,['Аргентина','Финляндия',2]
,['Аргентина','Франция',1.5]
,['Аргентина','Чехословакия',0]
,['Аргентина','Швейцария',2.5]
,['Аргентина','Швеция',2.5]
,['Аргентина','Югославия',2.5]
,['Бельгия','Австрия',2.5]
,['Бельгия','Аргентина',1]
,['Бельгия','Великобритания',1]
,['Бельгия','Венгрия',0.5]
,['Бельгия','Германия',1.5]
,['Бельгия','Дания',2]
,['Бельгия','Испания',2]
,['Бельгия','Италия',1]
,['Бельгия','Нидерланды',2]
,['Бельгия','Финляндия',1.5]
,['Бельгия','Франция',1]
,['Бельгия','Чехословакия',0.5]
,['Бельгия','Швейцария',0.5]
,['Бельгия','Швеция',2.5]
,['Бельгия','Югославия',2]
,['Великобритания','Австрия',1.5]
,['Великобритания','Аргентина',2.5]
,['Великобритания','Бельгия',3]
,['Великобритания','Венгрия',1.5]
,['Великобритания','Германия',2.5]
,['Великобритания','Дания',1.5]
,['Великобритания','Испания',3]
,['Великобритания','Италия',2]
,['Великобритания','Нидерланды',3]
,['Великобритания','Финляндия',2]
,['Великобритания','Франция',2.5]
,['Великобритания','Чехословакия',1.5]
,['Великобритания','Швейцария',3]
,['Великобритания','Швеция',3.5]
,['Великобритания','Югославия',3.5]
,['Венгрия','Австрия',3]
,['Венгрия','Аргентина',3.5]
,['Венгрия','Бельгия',3.5]
,['Венгрия','Великобритания',2.5]
,['Венгрия','Германия',3]
,['Венгрия','Дания',1]
,['Венгрия','Испания',3.5]
,['Венгрия','Италия',3]
,['Венгрия','Нидерланды',1.5]
,['Венгрия','Финляндия',2.5]
,['Венгрия','Франция',3]
,['Венгрия','Чехословакия',3]
,['Венгрия','Швейцария',1.5]
,['Венгрия','Швеция',1.5]
,['Венгрия','Югославия',4]
,['Германия','Австрия',2]
,['Германия','Аргентина',2.5]
,['Германия','Бельгия',2.5]
,['Германия','Великобритания',1.5]
,['Германия','Венгрия',1]
,['Германия','Дания',1.5]
,['Германия','Испания',3]
,['Германия','Италия',2.5]
,['Германия','Нидерланды',2]
,['Германия','Финляндия',3]
,['Германия','Франция',2.5]
,['Германия','Чехословакия',1.5]
,['Германия','Швейцария',3]
,['Германия','Швеция',3]
,['Германия','Югославия',2.5]
,['Дания','Австрия',1.5]
,['Дания','Аргентина',5]
,['Дания','Бельгия',2]
,['Дания','Великобритания',2.5]
,['Дания','Венгрия',3]
,['Дания','Германия',2.5]
,['Дания','Испания',4]
,['Дания','Италия',2]
,['Дания','Нидерланды',2]
,['Дания','Финляндия',3.5]
,['Дания','Франция',1]
,['Дания','Чехословакия',3.5]
,['Дания','Швейцария',2.5]
,['Дания','Швеция',2.5]
,['Дания','Югославия',1]
,['Испания','Австрия',1]
,['Испания','Аргентина',0.5]
,['Испания','Бельгия',2]
,['Испания','Великобритания',1]
,['Испания','Венгрия',0.5]
,['Испания','Германия',1]
,['Испания','Дания',0]
,['Испания','Италия',2]
,['Испания','Нидерланды',1.5]
,['Испания','Финляндия',0.5]
,['Испания','Франция',1]
,['Испания','Чехословакия',0]
,['Испания','Швейцария',1]
,['Испания','Швеция',1.5]
,['Испания','Югославия',1]
,['Италия','Австрия',2.5]
,['Италия','Аргентина',2.5]
,['Италия','Бельгия',3]
,['Италия','Великобритания',2]
,['Италия','Венгрия',1]
,['Италия','Германия',1.5]
,['Италия','Дания',2]
,['Италия','Испания',2]
,['Италия','Нидерланды',0.5]
,['Италия','Финляндия',3]
,['Италия','Франция',2]
,['Италия','Чехословакия',1.5]
,['Италия','Швейцария',2.5]
,['Италия','Швеция',1]
,['Италия','Югославия',1.5]
,['Нидерланды','Австрия',2.5]
,['Нидерланды','Аргентина',2]
,['Нидерланды','Бельгия',2]
,['Нидерланды','Великобритания',1]
,['Нидерланды','Венгрия',2.5]
,['Нидерланды','Германия',2]
,['Нидерланды','Дания',2]
,['Нидерланды','Испания',2.5]
,['Нидерланды','Италия',3.5]
,['Нидерланды','Финляндия',3.5]
,['Нидерланды','Франция',1]
,['Нидерланды','Чехословакия',3]
,['Нидерланды','Швейцария',1.5]
,['Нидерланды','Швеция',4]
,['Нидерланды','Югославия',2]
,['Финляндия','Австрия',0.5]
,['Финляндия','Аргентина',2]
,['Финляндия','Бельгия',2.5]
,['Финляндия','Великобритания',2]
,['Финляндия','Венгрия',1.5]
,['Финляндия','Германия',1]
,['Финляндия','Дания',0.5]
,['Финляндия','Испания',3.5]
,['Финляндия','Италия',1]
,['Финляндия','Нидерланды',0.5]
,['Финляндия','Франция',3]
,['Финляндия','Чехословакия',1]
,['Финляндия','Швейцария',0.5]
,['Финляндия','Швеция',1]
,['Финляндия','Югославия',1]
,['Франция','Австрия',1]
,['Франция','Аргентина',2.5]
,['Франция','Бельгия',3]
,['Франция','Великобритания',1.5]
,['Франция','Венгрия',1]
,['Франция','Германия',1.5]
,['Франция','Дания',1]
,['Франция','Испания',3]
,['Франция','Италия',2]
,['Франция','Нидерланды',3]
,['Франция','Финляндия',1]
,['Франция','Чехословакия',1.5]
,['Франция','Швейцария',2]
,['Франция','Швеция',0]
,['Франция','Югославия',0.2]
,['Чехословакия','Австрия',1.5]
,['Чехословакия','Аргентина',4]
,['Чехословакия','Бельгия',3.5]
,['Чехословакия','Великобритания',2.5]
,['Чехословакия','Венгрия',1]
,['Чехословакия','Германия',2.5]
,['Чехословакия','Дания',0.5]
,['Чехословакия','Испания',4]
,['Чехословакия','Италия',2.5]
,['Чехословакия','Нидерланды',1]
,['Чехословакия','Финляндия',3]
,['Чехословакия','Франция',2.5]
,['Чехословакия','Швейцария',2.5]
,['Чехословакия','Швеция',1]
,['Чехословакия','Югославия',2.5]
,['Швейцария','Австрия',2.5]
,['Швейцария','Аргентина',1.5]
,['Швейцария','Бельгия',3.5]
,['Швейцария','Великобритания',1]
,['Швейцария','Венгрия',2.5]
,['Швейцария','Германия',1]
,['Швейцария','Дания',1.5]
,['Швейцария','Испания',3]
,['Швейцария','Италия',1.5]
,['Швейцария','Нидерланды',2.5]
,['Швейцария','Финляндия',3.5]
,['Швейцария','Франция',2]
,['Швейцария','Чехословакия',1.5]
,['Швейцария','Швеция',2.5]
,['Швейцария','Югославия',2]
,['Швеция','Австрия',1.5]
,['Швеция','Аргентина',1.5]
,['Швеция','Бельгия',1.5]
,['Швеция','Великобритания',0.5]
,['Швеция','Венгрия',2.5]
,['Швеция','Германия',1]
,['Швеция','Дания',1.5]
,['Швеция','Испания',2.5]
,['Швеция','Италия',3]
,['Швеция','Нидерланды',0]
,['Швеция','Финляндия',3]
,['Швеция','Франция',4]
,['Швеция','Чехословакия',3]
,['Швеция','Швейцария',1.5]
,['Швеция','Югославия',1]
,['Югославия','Австрия',1]
,['Югославия','Аргентина',1.5]
,['Югославия','Бельгия',2]
,['Югославия','Великобритания',0.5]
,['Югославия','Венгрия',0]
,['Югославия','Германия',1.5]
,['Югославия','Дания',3]
,['Югославия','Испания',3]
,['Югославия','Италия',2.5]
,['Югославия','Нидерланды',2]
,['Югославия','Финляндия',3]
,['Югославия','Франция',3.5]
,['Югославия','Чехословакия',1.5]
,['Югославия','Швейцария',2]
,['Югославия','Швеция',3]
];

var colors = {
"Австрия":          "#da4480"
,"Аргентина":       "#5ab449"
,"Бельгия":         "#7f5acd"
,"Великобритания":  "#aab740"
,"Венгрия":         "#ce58c0"
,"Германия":        "#50a26e"
,"Дания":           "#d1434b"
,"Испания":         "#45c0bc"
,"Италия":          "#ce5929"
,"Нидерланды":      "#4e7bda"
,"Финляндия":       "#d49d3c"
,"Франция":         "#6660a3"
,"Чехословакия":    "#7b853c"
,"Швейцария":       "#b58dde"
,"Швеция":          "#97622e"
,"Югославия":       "#609dd6"
};

var sortOrder =[
"Австрия"
,"Аргентина"
,"Бельгия"
,"Великобритания"
,"Венгрия"
,"Германия"
,"Дания"
,"Испания"
,"Италия"
,"Нидерланды"
,"Финляндия"
,"Франция"
,"Чехословакия"
,"Швейцария"
,"Швеция"
,"Югославия"
];

function sort(a,b){ return d3.ascending(sortOrder.indexOf(a),sortOrder.indexOf(b)); }

var ch = viz.ch().data(data)
      .padding(.01)
      .sort(sort)
	  .innerRadius(430)
	  .outerRadius(450)
	  .duration(1000)
	  .chordOpacity(0.3)
	  .labelPadding(.03)
      .fill(function(d){ return colors[d];});

var width=1200, height=1100;

var svg = d3.select("body").append("svg").attr("height",height).attr("width",width);

svg.append("g").attr("transform", "translate(600,550)").call(ch);

// adjust height of frame in bl.ocks.org
d3.select(self.frameElement).style("height", height+"px").style("width", width+"px");
</script>
